<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Image</title>
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- SweetAlert2 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <link
      href="https://cdn.jsdelivr.net/npm/summernote@0.8.20/dist/summernote-bs4.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: #f8f9fa;
        width: 80%;
        margin-left: 10%;
      }
      h1,
      h2,
      h3 {
        color: #343a40;
      }
      .image-preview {
        max-width: 100%;
        border-radius: 6px;
        border: 1px solid #dee2e6;
      }
      .form-section {
        background: #fff;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 0 15px rgb(0 0 0 / 0.05);
        margin-bottom: 3rem;
      }
      .btn-primary {
        min-width: 130px;
      }
      .form-section {
        border: 1px solid #e3e3e3;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 40px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
      }

      .form-section h3 {
        margin-bottom: 20px;
        font-weight: bold;
        color: #333;
      }

      .form-group label {
        font-weight: 600;
      }

      .image-preview-box {
        border: 1px solid #ccc;
        padding: 10px;
        border-radius: 8px;
        background: #f9f9f9;
      }

      .card-img-top {
        border-radius: 10px;
      }

      .btn {
        border-radius: 20px;
      }

      .deleteForm .btn-danger {
        transition: 0.3s;
      }

      .deleteForm .btn-danger:hover {
        background-color: #c82333;
        transform: scale(1.05);
      }

      .galleryPreviewContainer img {
        margin: 5px;
        border-radius: 8px;
      }
      #reviewSection {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container py-5">
      <h2 class="text-center mb-5 font-weight-bold">Manage Homepage Images</h2>

      <!-- Header Image Upload -->
      <div class="card shadow-sm mb-5">
        <div class="card-header bg-primary text-white font-weight-bold">
          Header Image
        </div>
        <div class="card-body">
          <form
            action="/upload-image"
            method="POST"
            enctype="multipart/form-data"
          >
            <div class="form-group text-center">
              <label class="font-weight-bold">Current Header Image</label>
              <div class="mb-3">
                <img
                  src="<%= headerImageUrl %>"
                  id="headerCurrent"
                  class="img-fluid rounded border"
                  style="max-height: 300px"
                />
              </div>

              <label>Upload New Header Image</label>
              <input
                type="file"
                name="image"
                class="form-control-file mb-2"
                id="headerInput"
                required
              />
              <input type="hidden" name="role" value="header" />
              <div>
                <img
                  id="headerPreview"
                  class="img-thumbnail mt-2"
                  style="display: none; max-height: 200px"
                />
              </div>
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-primary">
                Upload Header
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Footer Image Upload -->
      <div class="card shadow-sm mb-5">
        <div class="card-header bg-dark text-white font-weight-bold">
          Footer Image
        </div>
        <div class="card-body">
          <form
            action="/upload-image"
            method="POST"
            enctype="multipart/form-data"
          >
            <div class="form-group text-center">
              <label class="font-weight-bold">Current Footer Image</label>
              <div class="mb-3">
                <img
                  src="<%= footerImageUrl %>"
                  id="footerCurrent"
                  class="img-fluid rounded border"
                  style="max-height: 300px"
                />
              </div>

              <label>Upload New Footer Image</label>
              <input
                type="file"
                name="image"
                class="form-control-file mb-2"
                id="footerInput"
                required
              />
              <input type="hidden" name="role" value="footer" />
              <div>
                <img
                  id="footerPreview"
                  class="img-thumbnail mt-2"
                  style="display: none; max-height: 200px"
                />
              </div>
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-dark">Upload Footer</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Banner Image Upload -->
      <div class="card shadow-sm mb-5">
        <div class="card-header bg-info text-white font-weight-bold">
          Banner Image
        </div>
        <div class="card-body">
          <form
            action="/upload-image"
            method="POST"
            enctype="multipart/form-data"
          >
            <div class="form-group text-center">
              <label class="font-weight-bold">Current Banner Image</label>
              <div class="mb-3">
                <img
                  src="<%= bannerImageUrl %>"
                  id="bannerCurrent"
                  class="img-fluid rounded border"
                  style="max-height: 300px"
                />
              </div>

              <label>Upload New Banner Image</label>
              <input
                type="file"
                name="image"
                class="form-control-file mb-2"
                id="bannerInput"
                required
              />
              <input type="hidden" name="role" value="banner" />
              <div>
                <img
                  id="bannerPreview"
                  class="img-thumbnail mt-2"
                  style="display: none; max-height: 200px"
                />
              </div>
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-info text-white">
                Upload Banner
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Homepage Content Editor -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="homepage" />
        <label for="editor-homepage">Page Heading</label>
        <textarea id="editor-homepage" name="content" class="form-control">
<%= currentContent %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Homepage Content
        </button>
      </form>
    </div>

    <!-- Content Above Form -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="contentAboveForm" />
        <label for="editor-aboveform">Content Above Form</label>
        <textarea id="editor-aboveform" name="content" class="form-control">
<%= contentAboveForm %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <!-- Brochure Upload -->
    <div class="form-section">
      <form
        action="/admin/upload-brochure"
        method="POST"
        enctype="multipart/form-data"
      >
        <input type="file" name="brochure" accept="application/pdf" required />
        <button type="submit" class="btn btn-dark mt-2">
          Upload New Brochure
        </button>
      </form>
    </div>

    <!-- Placement Partner Section -->
    <div class="form-section">
      <h3>Placement Partner Section Images</h3>

      <!-- Placement Partner Content -->
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="placementContent" />
        <label for="placementPartnerContent">Placement Partner Content</label>
        <textarea
          id="placementPartnerContent"
          name="content"
          class="form-control"
        >
<%= placementContent || '' %></textarea
        >
        <button
          type="submit placementContentbutton"
          class="btn btn-success mt-2"
        >
          Update Placement Content
        </button>
      </form>
      <br />

      <button
        type="button"
        class="btn btn-info mb-3"
        onclick="toggleUploadedPlacementImages()"
      >
        Show Uploaded Placement Images
      </button>

      <div id="uploadedPlacementImages" style="display: none">
        <form
          action="/placement-image"
          method="POST"
          enctype="multipart/form-data"
          id="placementImageUploadForm"
        >
          <div id="imageInputsContainer">
            <div class="image-upload-block mb-3">
              <div class="form-group">
                <label for="image">Select image to upload:</label>
                <input
                  type="file"
                  name="image"
                  class="form-control imageInput"
                  accept="image/*"
                  required
                />
              </div>
              <div class="form-group">
                <label>Preview:</label><br />
                <img
                  src="#"
                  alt="Image Preview"
                  class="img-fluid mb-2 imagePreview"
                  style="
                    max-height: 200px;
                    display: none;
                    object-fit: cover;
                    border-radius: 5px;
                  "
                />
              </div>
            </div>
          </div>
          <button
            type="button"
            class="btn btn-secondary mb-2"
            onclick="addPlacementImageInput()"
          >
            + Add More Images</button
          ><br />
          <button type="submit" class="btn btn-primary mt-2">
            Upload Images
          </button>
        </form>

        <% if (PlacementImages && PlacementImages.length > 0) { %>
        <div class="row mt-4">
          <% PlacementImages.forEach(image => { %>
          <div
            class="col-sm-6 col-md-4 col-lg-3 mb-4 d-flex align-items-stretch"
          >
            <div class="card shadow-sm w-100 text-center" style="height: 100%">
              <!-- Uniform image box -->
              <div
                class="d-flex justify-content-center align-items-center"
                style="width: 100%; height: 200px; background: #f8f9fa"
              >
                <img
                  src="<%= image.imagePath %>"
                  alt="Placement Partner"
                  style="max-width: 100%; max-height: 100%; object-fit: contain"
                />
              </div>

              <div class="card-body">
                <form
                  action="/delete-image/<%= image._id %>"
                  method="POST"
                  class="m-0"
                >
                  <button type="submit" class="btn btn-danger btn-sm w-100">
                    Delete
                  </button>
                </form>
              </div>
            </div>
          </div>
          <% }); %>
        </div>
        <% } else { %>
        <p>No placement partner images uploaded yet.</p>
        <% } %>
      </div>
    </div>

    <!-- WHY CHOOSE US CONTENT -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="whyChooseUs" />
        <label for="editor-whyChooseUs">WHY CHOOSE US?</label>
        <textarea id="editor-whyChooseUs" name="content" class="form-control">
<%= whyChooseUs %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <!-- Youtube Link -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="homeYoutubeLink" />
        <label for="editor-homeYoutubeLink">Youtube Link</label>
        <textarea
          id="editor-homeYoutubeLink"
          name="content"
          class="form-control"
        >
<%= homeYoutubeLink %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <!-- Content Beside Youtube -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="contentBesideYoutube" />
        <label for="editor-contentBesideYoutube">Our Courses</label>
        <textarea
          id="editor-contentBesideYoutube"
          name="content"
          class="form-control"
        >
<%= contentBesideYoutube %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <!-- Our Courses Content -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="ourCoursesContent" />
        <label for="editor-ourCoursesContent">Content Beside Youtube</label>
        <textarea
          id="editor-ourCoursesContent"
          name="content"
          class="form-control"
        >
<%= ourCoursesContent %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <!-- Our Events Content -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="ourEventsContent" />
        <label for="editor-ourEventsContent">Our Events</label>
        <textarea
          id="editor-ourEventsContent"
          name="content"
          class="form-control"
        >
<%= ourEventsContent %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <!-- Gallery Section Images -->
    <div class="form-section">
      <h3>Gallery Section Images</h3>
      <button
        type="button"
        class="btn btn-info mb-3"
        onclick="toggleUploadedGalleryImages()"
      >
        Show Uploaded Gallery Images
      </button>

      <div id="uploadedGalleryImages" style="display: none">
        <form
          action="/upload-gallery"
          method="POST"
          enctype="multipart/form-data"
          id="galleryImageUploadForm"
        >
          <div id="galleryImageInputsContainer">
            <div class="image-upload-block mb-3">
              <div class="form-group">
                <label>Select image(s) to upload:</label>
                <input
                  type="file"
                  name="image"
                  class="form-control galleryImageInput"
                  accept="image/*"
                  multiple
                  required
                />
              </div>
              <div class="form-group">
                <label>Preview:</label><br />
                <div class="galleryPreviewContainer d-flex flex-wrap"></div>
              </div>
            </div>
          </div>
          <button
            type="button"
            class="btn btn-secondary btn-sm mb-2"
            onclick="addMoreGalleryImageInput()"
          >
            + Add More Images
          </button>
          <br />
          <button type="submit" class="btn btn-primary mt-2">
            Upload Images
          </button>
        </form>

        <% if (galleryImages && galleryImages.length > 0) { %>
        <div class="row mt-4">
          <% galleryImages.forEach(image => { %>
          <div class="col-md-3 mb-3">
            <div class="card">
              <img
                src="<%= image.imagePath %>"
                class="card-img-top"
                style="max-height: 150px; object-fit: cover"
              />
              <div class="card-body text-center">
                <form
                  action="/delete-gallery-image/<%= image._id %>"
                  method="POST"
                  onsubmit="return confirm('Delete this image?');"
                >
                  <button type="submit" class="btn btn-danger btn-sm">
                    Delete
                  </button>
                </form>
              </div>
            </div>
          </div>
          <% }); %>
        </div>
        <% } else { %>
        <p>No gallery images uploaded yet.</p>
        <% } %>
      </div>
    </div>

    <!-- Content Below Image Gallery -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="contentBelowGallery" />
        <label for="editor-contentBelowGallery"
          >Content Below Image Gallery</label
        >
        <textarea
          id="editor-contentBelowGallery"
          name="content"
          class="form-control"
        >
<%= contentBelowGallery %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <!-- Our Colleges Content Sectioin -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="ourCollegesContent" />
        <label for="editor-ourCollegesContent">Our Colleges Content</label>
        <textarea
          id="editor-ourCollegesContent"
          name="content"
          class="form-control"
        >
<%= ourCollegesContent %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <!-- Our Colleges Content Sectioin -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="studentReviewContent" />
        <label for="editor-studentReviewContent">Student Review Content</label>
        <textarea
          id="editor-studentReviewContent"
          name="content"
          class="form-control"
        >
<%= studentReviewContent %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
      <br />
      <button class="btn btn-info" onclick="toggleReviewSection()">
        Toggle Review Section
      </button>
      <br />

      <div id="reviewSection">
        <br />
        <!-- Review Form -->
        <form
          action="/add-student-review"
          method="POST"
          enctype="multipart/form-data"
          class="mb-5"
        >
          <div class="form-row">
            <div class="form-group col-md-3">
              <input
                type="text"
                name="name"
                class="form-control"
                placeholder="Name"
                required
              />
            </div>
            <div class="form-group col-md-3">
              <input
                type="text"
                name="position"
                class="form-control"
                placeholder="Position"
                required
              />
            </div>
            <div class="form-group col-md-3">
              <input
                type="number"
                name="rating"
                id="rating"
                class="form-control"
                min="1"
                max="5"
                step="1"
                placeholder="Rating"
                required
              />
            </div>
            <div class="form-group col-md-3">
              <input
                type="file"
                name="image"
                class="form-control-file"
                required
              />
            </div>
          </div>
          <div class="form-group">
            <textarea
              name="review"
              class="form-control"
              rows="3"
              placeholder="Review"
              required
            ></textarea>
          </div>
          <button class="btn btn-primary">Add Student Review</button>
        </form>

        <!-- Review Table -->
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              <th>Sr.</th>
              <th>Name</th>
              <th>Position</th>
              <th>Image</th>
              <th>Review</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <% reviews.forEach((review, index) => { %>
            <tr>
              <td><%= index + 1 %></td>
              <td><%= review.name %></td>
              <td><%= review.position %></td>
              <td>
                <img
                  src="<%= review.imagePath %>"
                  style="width: 50px; height: 50px; border-radius: 50%"
                />
              </td>
              <td><%= review.review %></td>
              <td>
                <form
                  action="/delete-student-review/<%= review._id %>"
                  method="POST"
                  class="delete-review-form"
                >
                  <button type="submit" class="btn btn-danger btn-sm">
                    Delete
                  </button>
                </form>
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Our Colleges Content Sectioin -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="contentStarStudent" />
        <label for="editor-contentStarStudent"> Content Star Students</label>
        <textarea
          id="editor-contentStarStudent"
          name="content"
          class="form-control"
        >
<%= contentStarStudent %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
      <br />

      <button
        type="button"
        class="btn btn-info mb-3"
        onclick="toggleUploadedPlacementStudentImages()"
      >
        Show Uploaded Placement Student Images
      </button>

      <div id="uploadedPlacementStudentImages" style="display: none">
        <form
          action="/upload-placementStudents-images"
          method="POST"
          enctype="multipart/form-data"
          id="placementStudentImageUploadForm"
        >
          <div id="placementStudentImageInputsContainer">
            <div class="image-upload-block mb-3">
              <div class="form-group">
                <label>Select image(s) to upload:</label>
                <input
                  type="file"
                  name="images"
                  class="form-control placementStudentImageInput"
                  accept="image/*"
                  multiple
                  required
                />
              </div>
              <div class="form-group">
                <label>Preview:</label><br />
                <div
                  class="placementStudentPreviewContainer d-flex flex-wrap"
                ></div>
              </div>
            </div>
          </div>
          <button
            type="button"
            class="btn btn-secondary btn-sm mb-2"
            onclick="addMorePlacementStudentImageInput()"
          >
            + Add More Images
          </button>
          <br />
          <button type="submit" class="btn btn-primary mt-2">
            Upload Images
          </button>
        </form>

        <% if (placementStudentImages && placementStudentImages.length > 0) { %>
        <div class="row mt-4">
          <% placementStudentImages.forEach(image => { %>
          <div class="col-md-3 mb-3">
            <div class="card">
              <img
                src="<%= image.imagePath %>"
                class="card-img-top"
                style="max-height: 150px; object-fit: cover"
              />
              <div class="card-body text-center">
                <form
                  action="/delete-placementStudents-image/<%= image._id %>"
                  method="POST"
                  onsubmit="return confirm('Delete this image?');"
                >
                  <button type="submit" class="btn btn-danger btn-sm">
                    Delete
                  </button>
                </form>
              </div>
            </div>
          </div>
          <% }); %>
        </div>
        <% } else { %>
        <p>No Placement Student images uploaded yet.</p>
        <% } %>
      </div>
    </div>

    <!-- Our Colleges Content Sectioin -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="homeLoctionContent" />
        <label for="editor-homeLoctionContent"> Home Location Content</label>
        <textarea
          id="editor-homeLoctionContent"
          name="content"
          class="form-control"
        >
<%= homeLoctionContent %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <!-- Education Partner Images -->
    <div class="form-section">
      <h3>Our Education Partners</h3>
      <div class="form-section">
        <form action="/update-content" method="POST">
          <input type="hidden" name="section" value="ourEducationContent" />
          <label for="editor-ourEducationContent"> Our Education Partner</label>
          <textarea
            id="editor-ourEducationContent"
            name="content"
            class="form-control"
          >
<%= ourEducationContent %></textarea
          >
          <button type="submit" class="btn btn-success mt-2">
            Update Above Form Content
          </button>
        </form>
      </div>
      <button
        type="button"
        class="btn btn-info mb-3"
        onclick="toggleUploadedEducationImages()"
      >
        Show Uploaded Education Partner Images
      </button>

      <div id="uploadedEducationImages" style="display: none">
        <form
          action="/upload-education-images"
          method="POST"
          enctype="multipart/form-data"
          id="educationImageUploadForm"
        >
          <div id="educationImageInputsContainer">
            <div class="image-upload-block mb-3">
              <div class="form-group">
                <label>Select image(s) to upload:</label>
                <input
                  type="file"
                  name="images"
                  class="form-control educationImageInput"
                  accept="image/*"
                  multiple
                  required
                />
              </div>
              <div class="form-group">
                <label>Preview:</label><br />
                <div class="educationPreviewContainer d-flex flex-wrap"></div>
              </div>
            </div>
          </div>
          <button
            type="button"
            class="btn btn-secondary btn-sm mb-2"
            onclick="addMoreEducationImageInput()"
          >
            + Add More Images
          </button>
          <br />
          <button type="submit" class="btn btn-primary mt-2">
            Upload Images
          </button>
        </form>

        <% if (educationImages && educationImages.length > 0) { %>
  <div class="row mt-4">
    <% educationImages.forEach(image => { %>
      <div class="col-sm-6 col-md-4 col-lg-3 mb-4 d-flex align-items-stretch">
        <div class="card shadow-sm w-100 text-center" style="height: 100%;">
          
          <!-- Uniform image box -->
          <div
            class="d-flex justify-content-center align-items-center"
            style="width: 100%; height: 200px; background: #f8f9fa;"
          >
            <img
              src="<%= image.imagePath %>"
              alt="Education Partner"
              style="max-width: 100%; max-height: 100%; object-fit: contain;"
            />
          </div>

          <div class="card-body">
            <form
              action="/delete-education-image/<%= image._id %>"
              method="POST"
              class="m-0"
              onsubmit="return confirm('Delete this image?');"
            >
              <button type="submit" class="btn btn-danger btn-sm w-100">
                Delete
              </button>
            </form>
          </div>
        </div>
      </div>
    <% }); %>
  </div>
<% } else { %>
  <p>No education partner images uploaded yet.</p>
<% } %>

      </div>
    </div>

    <!-- FAQ Section Starts -->
    <div class="container py-5">
      <h2 class="mb-4 text-center font-weight-bold">
        Admin Panel - Manage FAQs
      </h2>

      <!-- Faq heading -->
      <div class="form-section">
        <form action="/update-content" method="POST">
          <input type="hidden" name="section" value="faqHeading" />
          <label for="editor-faqHeading"> FAQ Heading Content</label>
          <textarea id="editor-faqHeading" name="content" class="form-control">
<%= faqHeading %></textarea
          >
          <button type="submit" class="btn btn-success mt-2">
            Update Above Form Content
          </button>
        </form>
      </div>

      <!-- Toggle Add FAQ Form -->
      <div class="text-center mb-4">
        <button
          class="btn btn-info"
          type="button"
          data-toggle="collapse"
          data-target="#addFaqCollapse"
          aria-expanded="false"
          aria-controls="addFaqCollapse"
        >
          <i class="fas fa-plus-circle mr-2"></i>Add New FAQ
        </button>
      </div>

      <!-- Add New FAQ Form -->
      <div class="collapse" id="addFaqCollapse">
        <div class="card shadow-sm mb-4">
          <div class="card-header bg-light font-weight-bold">Add a New FAQ</div>
          <div class="card-body">
            <form action="/admin/faqs/add" method="POST">
              <div class="form-group">
                <label>Question</label>
                <input
                  type="text"
                  name="question"
                  placeholder="Enter question"
                  class="form-control"
                  required
                />
              </div>
              <div class="form-group">
                <label>Answer</label>
                <textarea
                  name="answer"
                  placeholder="Enter answer"
                  class="form-control"
                  rows="4"
                  required
                ></textarea>
              </div>
              <button class="btn btn-primary">
                <i class="fas fa-check mr-1"></i>Add FAQ
              </button>
            </form>
          </div>
        </div>
      </div>

      <!-- FAQ List -->
      <div class="accordion" id="faqAccordion">
        <% if (faqs.length === 0) { %>
        <div class="alert alert-info text-center">
          No FAQs available. Add a new one above.
        </div>
        <% } else { %> <% faqs.forEach((faq, index) => { %>
        <div class="card shadow-sm mb-3">
          <div
            class="card-header d-flex justify-content-between align-items-center"
            id="heading<%= index %>"
          >
            <button
              class="btn btn-link text-left flex-grow-1 font-weight-bold"
              type="button"
              data-toggle="collapse"
              data-target="#collapse<%= index %>"
              aria-expanded="false"
              aria-controls="collapse<%= index %>"
            >
              <%= faq.question %>
            </button>
            <button
              class="btn btn-sm btn-outline-primary"
              onclick="toggleEdit('<%= faq._id %>')"
            >
              Edit
            </button>
          </div>

          <!-- Collapsible Answer -->
          <div
            id="collapse<%= index %>"
            class="collapse"
            aria-labelledby="heading<%= index %>"
            data-parent="#faqAccordion"
          >
            <div class="card-body"><%= faq.answer %></div>
          </div>

          <!-- Inline Edit Form -->
          <div
            class="card-body bg-light"
            id="edit-form-<%= faq._id %>"
            style="display: none"
          >
            <!-- EDIT FORM -->
            <form action="/admin/faqs/edit/<%= faq._id %>" method="POST">
              <div class="form-group">
                <label>Edit Question</label>
                <input
                  type="text"
                  name="question"
                  value="<%= faq.question %>"
                  class="form-control"
                  required
                />
              </div>
              <div class="form-group">
                <label>Edit Answer</label>
                <textarea name="answer" class="form-control" rows="3" required>
<%= faq.answer %></textarea
                >
              </div>
              <div class="d-flex justify-content-between">
                <div>
                  <button type="submit" class="btn btn-success btn-sm">
                    <i class="fas fa-save mr-1"></i>Update
                  </button>
                  <button
                    type="button"
                    class="btn btn-secondary btn-sm"
                    onclick="toggleEdit('<%= faq._id %>')"
                  >
                    Cancel
                  </button>
                </div>
              </div>
            </form>

            <!-- DELETE FORM (outside edit form) -->
            <form
              action="/admin/faqs/delete/<%= faq._id %>"
              method="POST"
              class="mt-2 delete-faq-form"
            >
              <button type="submit" class="btn btn-danger btn-sm">
                <i class="fas fa-trash-alt mr-1"></i>Delete
              </button>
            </form>
          </div>
        </div>
        <% }) %> <% } %>
      </div>
    </div>
    <!-- Meta Heading -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="homeMetaHeading" />
        <label for="editor-homeMetaHeading"> Meta Title</label>
        <textarea
          id="editor-homeMetaHeading"
          name="content"
          class="form-control"
        >
<%= homeMetaHeading %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <!-- Meta Description -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="homeMetaDescription" />
        <label for="editor-homeMetaDescription"> Meta Description</label>
        <textarea
          id="editor-homeMetaDescription"
          name="content"
          class="form-control"
        >
<%= homeMetaDescription %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <!-- Meta keywords -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="homeMetaKeyword" />
        <label for="editor-homeMetaKeyword"> Meta Keyword</label>
        <textarea
          id="editor-homeMetaKeyword"
          name="content"
          class="form-control"
        >
<%= homeMetaKeyword %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <!-- HOME BLOG SECTION -->
    <div class="form-section">
      <form action="/update-content" method="POST">
        <input type="hidden" name="section" value="homeBlogSection" />
        <label for="editor-homeBlogSection"> Blog Section</label>
        <textarea
          id="editor-homeBlogSection"
          name="content"
          class="form-control"
        >
<%= homeBlogSection %></textarea
        >
        <button type="submit" class="btn btn-success mt-2">
          Update Above Form Content
        </button>
      </form>
    </div>

    <a href="/" class="btn btn-secondary mt-4">Back to Home</a>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.20/dist/summernote-bs4.min.js"></script>
    <script src="/js/script.js"></script>
    <!-- Font Awesome for Icons -->
    <script
      src="https://kit.fontawesome.com/a076d05399.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
